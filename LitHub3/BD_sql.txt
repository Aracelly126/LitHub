-- Crear la base de datos
CREATE DATABASE Biblioteca;

-- Crear la tabla Usuarios
CREATE TABLE Usuarios (
    CORREO VARCHAR(30) PRIMARY KEY,
    NOMBRE VARCHAR(20),
    APELLIDO VARCHAR(20),
    CLAVE VARCHAR(50),
    PAIS VARCHAR(20),
    FEC_NAC VARCHAR(10),
    TIPO VARCHAR(10) CHECK(TIPO IN ( 'ADMIN', 'AUTOR', 'LECTOR'))
);

-- Insertar un nuevo usuario en la tabla Usuarios
INSERT INTO Usuarios (CORREO, NOMBRE, CLAVE, FEC_NAC, TIPO)
VALUES ('admin@root.com', 'Admin', 'lruxImViiJZybBeV1xN/zQ==', '05/02/2003', 'ADMIN');


-- Crear la tabla Libros
CREATE TABLE Libros (
    CODIGO VARCHAR(10) PRIMARY KEY,
    CORREO_USU VARCHAR(20) REFERENCES Usuarios(CORREO),
    NOMBRE VARCHAR(50),
    GENERO VARCHAR(20),
    NUM_PAG INT
);

-- Crear la tabla Favoritos
CREATE TABLE Favoritos (
    CODIGO INT AUTO_INCREMENT PRIMARY KEY,
    CORREO_USU VARCHAR(20) REFERENCES Usuarios(CORREO),
    COD_LIB VARCHAR(10) REFERENCES Libros(CODIGO)
);